{% set infoTextId = 'infoTextId_' + (id or _self.handle) %}

{% if infoText and infoStatic %}
  {% set ariaDescribedBy = ((ariaDescribedBy + ' ') if ariaDescribedBy) + infoTextId %}
{% endif %}

<div {{ className('dso-selectable', modifiers) }}>
  <input
    type="{{ type }}"
    id="{{ id or _self.handle }}"
    name="{{ name or id or _self.handle }}"
    {{ attributes(
      [value, 'value', value],
      [invalid, 'aria-invalid', invalid],
      [ariaDescribedBy, 'aria-describedby', ariaDescribedBy],
      [disabled, 'disabled'],
      [required, 'required'],
      [checked, 'checked']
    ) }}
  >
  <label for="{{ id or _self.handle }}">
    {{ label | safe }}
  </label>
  {% if infoText and not infoStatic %}
    {% render '@info-button', {infoOpen: infoOpen, infoButtonLabel: infoButtonLabel} %}
  {% endif %}
  {% if infoText and (infoOpen or infoStatic) %}
    {% render '@info', {infoText: infoText, static: infoStatic, id: infoTextId} %}
  {% endif %}
  {% if nestedOptions %}
    <ul class="dso-selectable-options">
      {%- for option in nestedOptions %}
        <li>
          {% render '@selectable', option %}
        </li>
      {% endfor %}
    </ul>
  {% endif %}
</div>
