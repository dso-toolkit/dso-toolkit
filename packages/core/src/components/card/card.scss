@use "~dso-toolkit/src/utilities";
@use "~dso-toolkit/src/variables/units";
@use "~dso-toolkit/src/variables/colors";
@use "~dso-toolkit/src/components/card";
@use "~dso-toolkit/src/components/anchor/anchor";

@include utilities.box-sizing();

:host {
  display: block;
}

:host([is-selectable]:not([is-selectable="false"])),
:host([has-image]:not([has-image="false"])) {
  .dso-card-container {
    display: grid;
    grid-template-columns: 1fr minmax(0, 100%);

    .dso-card-heading,
    .dso-card-content {
      grid-column: 2 /-1;
    }

    .dso-card-selectable,
    .dso-card-image {
      grid-row: span 2;
    }
  }
}

.dso-card-container {
  @include card.root();

  padding-block: units.$u2 units.$u1;
  padding-inline: units.$u2;
  inline-size: 100%;
  block-size: 100%;

  &:has(.dso-card-heading a:is(:hover, :focus-visible)) {
    background-color: card.$background-color-hover;
  }
}

.dso-card-heading a {
  text-decoration: none;

  &:hover {
    color: card.$heading-anchor-hover-color;
    text-decoration: underline;
  }
}

.heading-anchor {
  color: card.$heading-anchor-color;
  display: flex;

  &:visited {
    color: card.$heading-anchor-color;
  }

  dso-icon {
    flex-shrink: 0;
  }

  .sr-only {
    @include utilities.sr-only();
  }
}
