---
authors: [iterox, tfrijsewijk]
---

# DSO Toolkit NEXT üçî

Deze release bevat **BREAKING** changes voor de volgende componenten:

- Document Component
- Ozon Content

<!-- truncate -->

## Document Component

- Property `gereserveerd` is vervangen met een `XMLDocument` of `string` i.p.v. een `boolean`.
- Property `vervallen` is vervangen met een `XMLDocument` of `string` i.p.v. een `boolean`.
- Het Event `dsoOzonContentAnchorClick` is vervangen door `dsoOzonContentClick`. (Zie ook de **BREAKING** change aan het component Ozon Content in deze release).

### Gereserveerd

De property gereserveerd accepteert nu een XML-string of een XMLDocument. Dit maakt het mogelijk om een optionele
wijzigactie (voegtoe of verwijder) mee te geven, zoals voorgeschreven door STOP:

```html
‚ùå
<dso-document-component gereserveerd></dso-document-component>

‚úÖ
<dso-document-component gereserveerd="<Gereserveerd wijzigactie='verwijder'></Gereserveerd>"></dso-document-component>
<dso-document-component gereserveerd="<Gereserveerd wijzigactie='voegtoe'></Gereserveerd>"></dso-document-component>
<dso-document-component gereserveerd="<Gereserveerd></Gereserveerd>"></dso-document-component>
```

### Vervallen

Hetzelfde geldt voor vervallen. Ook deze property accepteert nu een XML-string of een XMLDocument, met een optionele wijzigactie:

```html
‚ùå
<dso-document-component vervallen></dso-document-component>

‚úÖ
<dso-document-component vervallen="<Vervallen wijzigactie='verwijder'></Vervallen>"></dso-document-component>
<dso-document-component vervallen="<Vervallen wijzigactie='voegtoe'></Vervallen>"></dso-document-component>
<dso-document-component vervallen="<Vervallen></Vervallen>"></dso-document-component>
```

## Ozon Content

De Ozon Content `dsoAnchorClick` event handler is komen te vervallen. Het gedrag van deze event handler is
ondergebracht in `dsoClick`. Daarnaast is de event handler `dsoClick` uitgebreid met de nieuwe link types
`IntIoRefToggleAnnotation` en `IntRef`.

Er is geen uitgestippeld migratiepad. Hoogstwaarschijnlijk wil je als high-level afnemer gebruik maken van Document Component. Ozon Content kan gezien worden als een "Low Level component".

STOP elementen `IntRef` werden voorheen geparsed tot `<a href="#<waarde-van-ref-attribuut>">`. De waarde in het `href` attribuut wordt nu gegenereerd via de `urlResolver`. Dit maakt het mogelijk om de gegenereerde URL aan te passen.

Onderstaande voorbeeld implementatie geeft het oude gedrag. Dit wordt niet aangeraden en staat er slechts ter verduidelijking. Het is de bedoeling dat de `urlResolver` dezelfde functie teruggeeft als die de click handler in de router zet.

```tsx
function urlResolver(
  name: "ExtIoRef" | "ExtRef" | "IntIoRef" | "IntRef",
  attribute: "ref",
  value: string | null,
  element: Element,
): string {
  if (name === "IntRef" && value) {
    return `#${value}`;
  }

  // [..]
}
```
